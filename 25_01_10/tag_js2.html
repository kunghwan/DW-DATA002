<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>만들기</title>
    <link rel="stylesheet" href="tag_js2.css" />
    <script>
      window.onload = function () {
        var button = document.getElementById("reg");
        button.addEventListener("click", reg_list);
        console.log(button);
      };
      function reg_list() {
        var input = document.getElementById("my");
        var text = input.value;
        var li = document.createElement("li");
        li.textContent = text;
        //  추가 되는 항목의 삭제를 위해 버튼 추가
        var del = document.createElement("button");
        del.textContent = "삭제";
        del.addEventListener("click", delete_list);
        li.appendChild(del);

        // class=list라고 지정 부터 li에
        li.setAttribute("class", "list");
        var ul = document.getElementById("bucket_list");
        ul.appendChild(li);
      }

      function delete_list() {
        //삭제 버튼 클릭시 해당 텍스트 삭제
        console.log(this); //this 해당함수를 호출해주는
        let parent = this.parentElement; // 버튼의 부모가져오기(li)
        console.log(parent);
        parent.remove(); // li 태그 삭제하기
      }

      // 부모, 형제, 자식 요소(태그) 찾는 방법
      // 부모 찾기
      let child = document.getElementById("my"); //input
      let parent = child.parentElement; // inputm 태그의 부모 태그
      child = document.querySelector("#my");
      parent = child.parentElement;

      // 형제 찾기
      // <div><h2 id =b></h2><span id='a'></span></div>
      //  h2태그와 span태그는 형제 관계
      //  해당 태그 앞의 형제 태그를 찾기
      let a1 = document.querySelector("#a");
      let b1 = a1.previousElementSibling; //앞에앞에 있는 형제 찾을거면 .붙이고 다시써주기
      // 뒤에있는 형제 태그 찾기
      let b2 = document.getElementById("b");
      let a2 = b2.nextElementSibling;

      //자식 찾기
      // <div id =p >   <h3></h3>  <p></p>  <ul id ='u'></ul> </div>
      let par = document.querySelector("#p");
      let children = par.children; //모든 자식 태그 가져오기
      children[1].textContent = "둘째 자식";

      // 선택자로 자식 찾기
      let p = par.querySelector("#u");
      //   react에서 했던 todoscreen형식으로 html script버전으로 만들어보기
    </script>
  </head>
  <body>
    <div>
      <span>버킷리스트</span>
      <input type="text" id="my" value="" />
      <button id="reg">등록</button>
    </div>
    <hr />
    <ul id="bucket_list">
      <li class="list">베네치아 가기</li>
    </ul>
  </body>
</html>
